{% extends "layout.html" %}

{% block content %}
    <div class="container">
        <hr>
        <h1>Ajax学习</h1>

        <h3>实例1</h3>
        <input id='btn1' type="button" class='btn btn-primary' value='点击1'>
        
        <h3>实例2</h3>
        <input type="text" id='txtUser' placeholder='用户名'>
        <input type="text" id='txtAge' placeholder='年龄'>
        <input id='btn2' type="button" class='btn btn-primary' value='点击2'>

        <h3>实例3</h3>
       <form id='form3' action="">
        <input type="text" name='user' placeholder='用户名'>
        <input type="text" name='age' placeholder='年龄'>
        <input type="text" name='email' placeholder='邮箱'>
        <input type="text" name='more' placeholder='介绍'>
       </form>
        <input id='btn3' type="button" class='btn btn-primary' value='点击3'>

    </div>
{% endblock content %}

{% block js %}
<script>
    $(function(){
        // 页面框架加载完成之后代码自动执行
        bindBtn1Evrnt();
        bindBtn2Evrnt();
        bindBtn3Evrnt();
    })

    function bindBtn1Evrnt(){
        $('#btn1').click(function(){
            $.ajax({
                url: '/task/ajax/',
                type: 'post',
                data:{
                    n1: 123,
                    n2: 456
                },
                dataType: 'JSON',
                success:function(res){
                    console.log(res);
                    console.log(res.status);
                    console.log(res.data);
                }
            })
        })
    }

    function bindBtn2Evrnt(){
        $('#btn2').click(function(){
            $.ajax({
                url: '/task/ajax/',
                type: 'post',
                data:{
                    name: $('#txtUser').val(),
                    age: $('#txtAge').val()
                },
                dataType:'JSON',
                success:function(res){
                    console.log(res);
                    console.log(res.status);
                    console.log(res.data);
                }
            })
        })
    }

    function bindBtn3Evrnt(){
        $('#btn3').click(function(){
            $.ajax({
                url: '/task/ajax/',
                type: 'post',
                data: $('#form3').serialize(),
                dataType:'JSON',
                success:function(res){
                    console.log(res);
                    console.log(res.status);
                    console.log(res.data);
                }
            })
        })
    }

</script>
{% endblock js %}